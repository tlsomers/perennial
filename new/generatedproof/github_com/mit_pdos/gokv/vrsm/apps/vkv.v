(* autogenerated by goose proofgen; do not modify *)
Require Export New.proof.grove_prelude.
Require Export New.generatedproof.github_com.mit_pdos.gokv.grove_ffi.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.apps.exactlyonce.
Require Export New.generatedproof.sync.
Require Export New.generatedproof.github_com.mit_pdos.gokv.kv.
Require Export New.generatedproof.github_com.mit_pdos.gokv.map_string_marshal.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.storage.
Require Export New.generatedproof.github_com.tchajed.marshal.
Require Export New.golang.theory.

Require Export New.code.github_com.mit_pdos.gokv.vrsm.apps.vkv.
Module vkv.
Axiom falso : False.
Module Clerk.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  cl' : loc;
}.
End def.
End Clerk.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_Clerk `{ffi_syntax}: Settable _ :=
  settable! Clerk.mk < Clerk.cl' >.
Global Instance into_val_Clerk `{ffi_syntax} : IntoVal Clerk.t.
Admitted.

Global Instance into_val_typed_Clerk `{ffi_syntax} : IntoValTyped Clerk.t vkv.Clerk :=
{|
  default_val := Clerk.mk (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_Clerk_cl `{ffi_syntax} : IntoValStructField "cl" vkv.Clerk Clerk.cl'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_Clerk `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} cl':
  PureWp True
    (struct.make #vkv.Clerk (alist_val [
      "cl" ::= #cl'
    ]))%struct
    #(Clerk.mk cl').
Admitted.


Global Instance Clerk_struct_fields_split dq l (v : Clerk.t) :
  StructFieldsSplit dq l v (
    "Hcl" ∷ l ↦s[vkv.Clerk :: "cl"]{dq} v.(Clerk.cl')
  ).
Admitted.

End instances.
Module ClerkPool.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  mu' : loc;
  cls' : slice.t;
  confHosts' : slice.t;
}.
End def.
End ClerkPool.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_ClerkPool `{ffi_syntax}: Settable _ :=
  settable! ClerkPool.mk < ClerkPool.mu'; ClerkPool.cls'; ClerkPool.confHosts' >.
Global Instance into_val_ClerkPool `{ffi_syntax} : IntoVal ClerkPool.t.
Admitted.

Global Instance into_val_typed_ClerkPool `{ffi_syntax} : IntoValTyped ClerkPool.t vkv.ClerkPool :=
{|
  default_val := ClerkPool.mk (default_val _) (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_ClerkPool_mu `{ffi_syntax} : IntoValStructField "mu" vkv.ClerkPool ClerkPool.mu'.
Admitted.

Global Instance into_val_struct_field_ClerkPool_cls `{ffi_syntax} : IntoValStructField "cls" vkv.ClerkPool ClerkPool.cls'.
Admitted.

Global Instance into_val_struct_field_ClerkPool_confHosts `{ffi_syntax} : IntoValStructField "confHosts" vkv.ClerkPool ClerkPool.confHosts'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_ClerkPool `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} mu' cls' confHosts':
  PureWp True
    (struct.make #vkv.ClerkPool (alist_val [
      "mu" ::= #mu';
      "cls" ::= #cls';
      "confHosts" ::= #confHosts'
    ]))%struct
    #(ClerkPool.mk mu' cls' confHosts').
Admitted.


Global Instance ClerkPool_struct_fields_split dq l (v : ClerkPool.t) :
  StructFieldsSplit dq l v (
    "Hmu" ∷ l ↦s[vkv.ClerkPool :: "mu"]{dq} v.(ClerkPool.mu') ∗
    "Hcls" ∷ l ↦s[vkv.ClerkPool :: "cls"]{dq} v.(ClerkPool.cls') ∗
    "HconfHosts" ∷ l ↦s[vkv.ClerkPool :: "confHosts"]{dq} v.(ClerkPool.confHosts')
  ).
Admitted.

End instances.
Module KVState.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  kvs' : loc;
  vnums' : loc;
  minVnum' : w64;
}.
End def.
End KVState.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_KVState `{ffi_syntax}: Settable _ :=
  settable! KVState.mk < KVState.kvs'; KVState.vnums'; KVState.minVnum' >.
Global Instance into_val_KVState `{ffi_syntax} : IntoVal KVState.t.
Admitted.

Global Instance into_val_typed_KVState `{ffi_syntax} : IntoValTyped KVState.t vkv.KVState :=
{|
  default_val := KVState.mk (default_val _) (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_KVState_kvs `{ffi_syntax} : IntoValStructField "kvs" vkv.KVState KVState.kvs'.
Admitted.

Global Instance into_val_struct_field_KVState_vnums `{ffi_syntax} : IntoValStructField "vnums" vkv.KVState KVState.vnums'.
Admitted.

Global Instance into_val_struct_field_KVState_minVnum `{ffi_syntax} : IntoValStructField "minVnum" vkv.KVState KVState.minVnum'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_KVState `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} kvs' vnums' minVnum':
  PureWp True
    (struct.make #vkv.KVState (alist_val [
      "kvs" ::= #kvs';
      "vnums" ::= #vnums';
      "minVnum" ::= #minVnum'
    ]))%struct
    #(KVState.mk kvs' vnums' minVnum').
Admitted.


Global Instance KVState_struct_fields_split dq l (v : KVState.t) :
  StructFieldsSplit dq l v (
    "Hkvs" ∷ l ↦s[vkv.KVState :: "kvs"]{dq} v.(KVState.kvs') ∗
    "Hvnums" ∷ l ↦s[vkv.KVState :: "vnums"]{dq} v.(KVState.vnums') ∗
    "HminVnum" ∷ l ↦s[vkv.KVState :: "minVnum"]{dq} v.(KVState.minVnum')
  ).
Admitted.

End instances.
Module PutArgs.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  Key' : go_string;
  Val' : go_string;
}.
End def.
End PutArgs.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_PutArgs `{ffi_syntax}: Settable _ :=
  settable! PutArgs.mk < PutArgs.Key'; PutArgs.Val' >.
Global Instance into_val_PutArgs `{ffi_syntax} : IntoVal PutArgs.t.
Admitted.

Global Instance into_val_typed_PutArgs `{ffi_syntax} : IntoValTyped PutArgs.t vkv.PutArgs :=
{|
  default_val := PutArgs.mk (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_PutArgs_Key `{ffi_syntax} : IntoValStructField "Key" vkv.PutArgs PutArgs.Key'.
Admitted.

Global Instance into_val_struct_field_PutArgs_Val `{ffi_syntax} : IntoValStructField "Val" vkv.PutArgs PutArgs.Val'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_PutArgs `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} Key' Val':
  PureWp True
    (struct.make #vkv.PutArgs (alist_val [
      "Key" ::= #Key';
      "Val" ::= #Val'
    ]))%struct
    #(PutArgs.mk Key' Val').
Admitted.


Global Instance PutArgs_struct_fields_split dq l (v : PutArgs.t) :
  StructFieldsSplit dq l v (
    "HKey" ∷ l ↦s[vkv.PutArgs :: "Key"]{dq} v.(PutArgs.Key') ∗
    "HVal" ∷ l ↦s[vkv.PutArgs :: "Val"]{dq} v.(PutArgs.Val')
  ).
Admitted.

End instances.

Module getArgs.
Section def.
Context `{ffi_syntax}.
Definition t := go_string.
End def.
End getArgs.
Module CondPutArgs.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  Key' : go_string;
  Expect' : go_string;
  Val' : go_string;
}.
End def.
End CondPutArgs.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_CondPutArgs `{ffi_syntax}: Settable _ :=
  settable! CondPutArgs.mk < CondPutArgs.Key'; CondPutArgs.Expect'; CondPutArgs.Val' >.
Global Instance into_val_CondPutArgs `{ffi_syntax} : IntoVal CondPutArgs.t.
Admitted.

Global Instance into_val_typed_CondPutArgs `{ffi_syntax} : IntoValTyped CondPutArgs.t vkv.CondPutArgs :=
{|
  default_val := CondPutArgs.mk (default_val _) (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_CondPutArgs_Key `{ffi_syntax} : IntoValStructField "Key" vkv.CondPutArgs CondPutArgs.Key'.
Admitted.

Global Instance into_val_struct_field_CondPutArgs_Expect `{ffi_syntax} : IntoValStructField "Expect" vkv.CondPutArgs CondPutArgs.Expect'.
Admitted.

Global Instance into_val_struct_field_CondPutArgs_Val `{ffi_syntax} : IntoValStructField "Val" vkv.CondPutArgs CondPutArgs.Val'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_CondPutArgs `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} Key' Expect' Val':
  PureWp True
    (struct.make #vkv.CondPutArgs (alist_val [
      "Key" ::= #Key';
      "Expect" ::= #Expect';
      "Val" ::= #Val'
    ]))%struct
    #(CondPutArgs.mk Key' Expect' Val').
Admitted.


Global Instance CondPutArgs_struct_fields_split dq l (v : CondPutArgs.t) :
  StructFieldsSplit dq l v (
    "HKey" ∷ l ↦s[vkv.CondPutArgs :: "Key"]{dq} v.(CondPutArgs.Key') ∗
    "HExpect" ∷ l ↦s[vkv.CondPutArgs :: "Expect"]{dq} v.(CondPutArgs.Expect') ∗
    "HVal" ∷ l ↦s[vkv.CondPutArgs :: "Val"]{dq} v.(CondPutArgs.Val')
  ).
Admitted.

End instances.

Section names.

Class GlobalAddrs :=
{
}.

Context `{!GlobalAddrs}.
Context `{!heapGS Σ}.
Context `{!goGlobalsGS Σ}.

Definition var_addrs : list (go_string * loc) := [
  ].

Global Instance is_pkg_defined_instance : IsPkgDefined vkv :=
{|
  is_pkg_defined := is_global_definitions vkv var_addrs;
|}.

Definition own_allocated `{!GlobalAddrs} : iProp Σ :=
True.

Global Instance wp_func_call_MakeClerk :
  WpFuncCall vkv "MakeClerk" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_MakeClerkPool :
  WpFuncCall vkv "MakeClerkPool" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_MakeKv :
  WpFuncCall vkv "MakeKv" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_encodePutArgs :
  WpFuncCall vkv "encodePutArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_decodePutArgs :
  WpFuncCall vkv "decodePutArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_encodeGetArgs :
  WpFuncCall vkv "encodeGetArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_decodeGetArgs :
  WpFuncCall vkv "decodeGetArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_encodeCondPutArgs :
  WpFuncCall vkv "encodeCondPutArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_decodeCondPutArgs :
  WpFuncCall vkv "decodeCondPutArgs" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_makeVersionedStateMachine :
  WpFuncCall vkv "makeVersionedStateMachine" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_Start :
  WpFuncCall vkv "Start" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_CondPut :
  WpMethodCall vkv "Clerk'ptr" "CondPut" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_Get :
  WpMethodCall vkv "Clerk'ptr" "Get" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_Put :
  WpMethodCall vkv "Clerk'ptr" "Put" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_ClerkPool'ptr_ConditionalPut :
  WpMethodCall vkv "ClerkPool'ptr" "ConditionalPut" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_ClerkPool'ptr_Get :
  WpMethodCall vkv "ClerkPool'ptr" "Get" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_ClerkPool'ptr_Put :
  WpMethodCall vkv "ClerkPool'ptr" "Put" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_ClerkPool'ptr_doWithClerk :
  WpMethodCall vkv "ClerkPool'ptr" "doWithClerk" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_apply :
  WpMethodCall vkv "KVState'ptr" "apply" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_applyReadonly :
  WpMethodCall vkv "KVState'ptr" "applyReadonly" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_get :
  WpMethodCall vkv "KVState'ptr" "get" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_getState :
  WpMethodCall vkv "KVState'ptr" "getState" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_put :
  WpMethodCall vkv "KVState'ptr" "put" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_KVState'ptr_setState :
  WpMethodCall vkv "KVState'ptr" "setState" _ (is_pkg_defined vkv) :=
  ltac:(apply wp_method_call'; reflexivity).

End names.
End vkv.
