(* autogenerated by goose proofgen; do not modify *)
Require Export New.proof.grove_prelude.
Require Export New.generatedproof.github_com.mit_pdos.gokv.grove_ffi.
Require Export New.generatedproof.github_com.tchajed.marshal.
Require Export New.generatedproof.sync.
Require Export New.generatedproof.github_com.goose_lang.primitive.
Require Export New.generatedproof.github_com.mit_pdos.gokv.reconnectclient.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.e.
Require Export New.generatedproof.log.
Require Export New.generatedproof.github_com.goose_lang.std.
Require Export New.generatedproof.github_com.mit_pdos.gokv.urpc.
Require Export New.generatedproof.github_com.mit_pdos.gokv.vrsm.paxos.
Require Export New.golang.theory.

Require Export New.code.github_com.mit_pdos.gokv.vrsm.configservice.
Module configservice.
Axiom falso : False.
Module Clerk.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  mu' : loc;
  cls' : slice.t;
  leader' : w64;
}.
End def.
End Clerk.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_Clerk `{ffi_syntax}: Settable _ :=
  settable! Clerk.mk < Clerk.mu'; Clerk.cls'; Clerk.leader' >.
Global Instance into_val_Clerk `{ffi_syntax} : IntoVal Clerk.t.
Admitted.

Global Instance into_val_typed_Clerk `{ffi_syntax} : IntoValTyped Clerk.t configservice.Clerk :=
{|
  default_val := Clerk.mk (default_val _) (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_Clerk_mu `{ffi_syntax} : IntoValStructField "mu" configservice.Clerk Clerk.mu'.
Admitted.

Global Instance into_val_struct_field_Clerk_cls `{ffi_syntax} : IntoValStructField "cls" configservice.Clerk Clerk.cls'.
Admitted.

Global Instance into_val_struct_field_Clerk_leader `{ffi_syntax} : IntoValStructField "leader" configservice.Clerk Clerk.leader'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_Clerk `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} mu' cls' leader':
  PureWp True
    (struct.make #configservice.Clerk (alist_val [
      "mu" ::= #mu';
      "cls" ::= #cls';
      "leader" ::= #leader'
    ]))%struct
    #(Clerk.mk mu' cls' leader').
Admitted.


Global Instance Clerk_struct_fields_split dq l (v : Clerk.t) :
  StructFieldsSplit dq l v (
    "Hmu" ∷ l ↦s[configservice.Clerk :: "mu"]{dq} v.(Clerk.mu') ∗
    "Hcls" ∷ l ↦s[configservice.Clerk :: "cls"]{dq} v.(Clerk.cls') ∗
    "Hleader" ∷ l ↦s[configservice.Clerk :: "leader"]{dq} v.(Clerk.leader')
  ).
Admitted.

End instances.
Module state.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  epoch' : w64;
  reservedEpoch' : w64;
  leaseExpiration' : w64;
  wantLeaseToExpire' : bool;
  config' : slice.t;
}.
End def.
End state.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_state `{ffi_syntax}: Settable _ :=
  settable! state.mk < state.epoch'; state.reservedEpoch'; state.leaseExpiration'; state.wantLeaseToExpire'; state.config' >.
Global Instance into_val_state `{ffi_syntax} : IntoVal state.t.
Admitted.

Global Instance into_val_typed_state `{ffi_syntax} : IntoValTyped state.t configservice.state :=
{|
  default_val := state.mk (default_val _) (default_val _) (default_val _) (default_val _) (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_state_epoch `{ffi_syntax} : IntoValStructField "epoch" configservice.state state.epoch'.
Admitted.

Global Instance into_val_struct_field_state_reservedEpoch `{ffi_syntax} : IntoValStructField "reservedEpoch" configservice.state state.reservedEpoch'.
Admitted.

Global Instance into_val_struct_field_state_leaseExpiration `{ffi_syntax} : IntoValStructField "leaseExpiration" configservice.state state.leaseExpiration'.
Admitted.

Global Instance into_val_struct_field_state_wantLeaseToExpire `{ffi_syntax} : IntoValStructField "wantLeaseToExpire" configservice.state state.wantLeaseToExpire'.
Admitted.

Global Instance into_val_struct_field_state_config `{ffi_syntax} : IntoValStructField "config" configservice.state state.config'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_state `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} epoch' reservedEpoch' leaseExpiration' wantLeaseToExpire' config':
  PureWp True
    (struct.make #configservice.state (alist_val [
      "epoch" ::= #epoch';
      "reservedEpoch" ::= #reservedEpoch';
      "leaseExpiration" ::= #leaseExpiration';
      "wantLeaseToExpire" ::= #wantLeaseToExpire';
      "config" ::= #config'
    ]))%struct
    #(state.mk epoch' reservedEpoch' leaseExpiration' wantLeaseToExpire' config').
Admitted.


Global Instance state_struct_fields_split dq l (v : state.t) :
  StructFieldsSplit dq l v (
    "Hepoch" ∷ l ↦s[configservice.state :: "epoch"]{dq} v.(state.epoch') ∗
    "HreservedEpoch" ∷ l ↦s[configservice.state :: "reservedEpoch"]{dq} v.(state.reservedEpoch') ∗
    "HleaseExpiration" ∷ l ↦s[configservice.state :: "leaseExpiration"]{dq} v.(state.leaseExpiration') ∗
    "HwantLeaseToExpire" ∷ l ↦s[configservice.state :: "wantLeaseToExpire"]{dq} v.(state.wantLeaseToExpire') ∗
    "Hconfig" ∷ l ↦s[configservice.state :: "config"]{dq} v.(state.config')
  ).
Admitted.

End instances.
Module Server.
Section def.
Context `{ffi_syntax}.
Record t := mk {
  s' : loc;
}.
End def.
End Server.

Section instances.
Context `{ffi_syntax}.

Global Instance settable_Server `{ffi_syntax}: Settable _ :=
  settable! Server.mk < Server.s' >.
Global Instance into_val_Server `{ffi_syntax} : IntoVal Server.t.
Admitted.

Global Instance into_val_typed_Server `{ffi_syntax} : IntoValTyped Server.t configservice.Server :=
{|
  default_val := Server.mk (default_val _);
  to_val_has_go_type := ltac:(destruct falso);
  default_val_eq_zero_val := ltac:(destruct falso);
  to_val_inj := ltac:(destruct falso);
  to_val_eqdec := ltac:(solve_decision);
|}.
Global Instance into_val_struct_field_Server_s `{ffi_syntax} : IntoValStructField "s" configservice.Server Server.s'.
Admitted.


Context `{!ffi_model, !ffi_semantics _ _, !ffi_interp _, !heapGS Σ}.
Global Instance wp_struct_make_Server `{ffi_semantics} `{!ffi_interp ffi} `{!heapGS Σ} s':
  PureWp True
    (struct.make #configservice.Server (alist_val [
      "s" ::= #s'
    ]))%struct
    #(Server.mk s').
Admitted.


Global Instance Server_struct_fields_split dq l (v : Server.t) :
  StructFieldsSplit dq l v (
    "Hs" ∷ l ↦s[configservice.Server :: "s"]{dq} v.(Server.s')
  ).
Admitted.

End instances.

Section names.

Class GlobalAddrs :=
{
}.

Context `{!GlobalAddrs}.
Context `{!heapGS Σ}.
Context `{!goGlobalsGS Σ}.

Definition var_addrs : list (go_string * loc) := [
  ].

Global Instance is_pkg_defined_instance : IsPkgDefined configservice :=
{|
  is_pkg_defined := is_global_definitions configservice var_addrs;
|}.

Definition own_allocated `{!GlobalAddrs} : iProp Σ :=
True.

Global Instance wp_func_call_EncodeConfig :
  WpFuncCall configservice "EncodeConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_DecodeConfig :
  WpFuncCall configservice "DecodeConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_MakeClerk :
  WpFuncCall configservice "MakeClerk" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_encodeState :
  WpFuncCall configservice "encodeState" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_decodeState :
  WpFuncCall configservice "decodeState" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_makeServer :
  WpFuncCall configservice "makeServer" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_func_call_StartServer :
  WpFuncCall configservice "StartServer" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_func_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_GetConfig :
  WpMethodCall configservice "Clerk'ptr" "GetConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_GetLease :
  WpMethodCall configservice "Clerk'ptr" "GetLease" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_ReserveEpochAndGetConfig :
  WpMethodCall configservice "Clerk'ptr" "ReserveEpochAndGetConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Clerk'ptr_TryWriteConfig :
  WpMethodCall configservice "Clerk'ptr" "TryWriteConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Server'ptr_GetConfig :
  WpMethodCall configservice "Server'ptr" "GetConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Server'ptr_GetLease :
  WpMethodCall configservice "Server'ptr" "GetLease" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Server'ptr_ReserveEpochAndGetConfig :
  WpMethodCall configservice "Server'ptr" "ReserveEpochAndGetConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Server'ptr_TryWriteConfig :
  WpMethodCall configservice "Server'ptr" "TryWriteConfig" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

Global Instance wp_method_call_Server'ptr_tryAcquire :
  WpMethodCall configservice "Server'ptr" "tryAcquire" _ (is_pkg_defined configservice) :=
  ltac:(apply wp_method_call'; reflexivity).

End names.
End configservice.
